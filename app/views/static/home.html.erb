<h1>Hello world</h1>


<div class="card" id="signup">
  <header class="card-header">
    <p class="card-header-title">
      Sign up Form
    </p>
  </header>
  <div class="card-content">
  <p>
    <div class="columns is-mobile">
      <div class="column is-2 is-offset-1">
        <input class="input" type="text" placeholder="name" id="name">
      </div>
    </div>
  </p>
  <p>
    <div class="columns is-mobile">
      <div class="column is-2 is-offset-1">
        <input class="input" type="text" placeholder="email" id="email">
      </div>
    </div>
  </p>
  <p>
    <div class="columns is-mobile">
      <div class="column is-2 is-offset-1">
        <input class="input" type="password" placeholder="password" id="password">
      </div>
    </div>
  </p>
  <p>
    <div class="columns is-mobile">
      <div class="column is-2 is-offset-1">
        <input class="input" type="password" placeholder="password confirmation" id="password_confirmation">
      </div>
    </div>
  </p>
  <div class="columns is-mobile">
  <div class="column is-2 is-offset-1">
    <button class="button is-primary" id="submit">Sign up</button>
  </div>
  </div>
</div>  
</div>

<script>
    $(document).ready(function(){
       $("#submit").click(function(){
           var name = $("#name").val()
           var email = $("#email").val();
           var password = $("#password").val();
           var password_confirmation = $("#password_confirmation").val();
           
           var d = {
               'user': {
                   'name': name,
                    'email': email,
                    'password': password,
                    'password_confirmation': password_confirmation
               }
            };
            console.log(d)
            
        $.ajax({
            type: "POST",
            url: "/users",
            beforeSend: function(xhr) {xhr.setRequestHeader('X-CSRF-Token', $('meta[name="csrf-token"]').attr('content'))},
            data: d    
            }).success(function(json){
            console.log("success", json);
        });
       });
    });
</script>